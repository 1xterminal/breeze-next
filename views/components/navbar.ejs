<nav class="flex justify-center items-center">
    <div class="flex items-center mt-8">
        <!-- Logo Section -->
        <div class="flex items-center">
            <img src="/assets/images/tiny_logo.svg" alt="Logo" class="w-[77.5px]">
            <div class="w-px h-9 bg-white/50 mx-4"></div>
        </div>

        <!-- Navigation Buttons -->
        <div class="flex items-center gap-5">
            <% 
            // Base navigation items
            let navItems = [
                { class: 'homePage', icon: 'home_icon.svg', text: 'Home Page', href: '/' }
            ];
            
            // Add items for logged-in users
            if (user) {   
                navItems = navItems.concat([
                    { class: 'dashboard', icon: 'dashboard_icon.svg', text: 'Dashboard', href: '/dashboard' },
                    { class: 'tempConverter', icon: 'temp_convert_icon.svg', text: 'Temp Converter', href: '/converter' },
                    { class: 'historyArchives', icon: 'history_archive_icon.svg', text: 'History Archives', href: '/history' }
                ]);
                
                // Add admin panel for admins
                if (user.role === 'admin') {
                    navItems.push({ class: 'websiteSettings', icon: 'settings_icon.svg', text: 'Website Settings', href: '/admin' });
                }
                
                // Add user account with spacing
                navItems.push({ class: 'userAccount ml-[150px]', icon: 'placeholder_circle.svg', text: 'User Account', href: '#', dropdown: true });
            } else {
                // Add login and register for visitors
                navItems.push(
                    { class: 'login ml-[150px]', icon: 'login_icon.svg', text: 'Login', href: '/login' },
                    <!-- { class: 'register', icon: 'register_icon.svg', text: 'Register', href: '/register' } -->
                );
            }
            %>

            <% navItems.forEach(item => { %>
                <div class="group relative">
                    <% if (item.dropdown) { %>
                        <button class="flex items-center rounded-full px-2.5 py-1.5 gap-2 transition-all duration-300
                                      bg-transparent hover:bg-white/40 hover:shadow-lg
                                      <%= item.class %>">
                            <img src="/assets/images/<%= item.icon %>" alt="<%= item.text %>" class="w-[52px] h-[52px]">
                            <span class="text-white font-bold text-sm hidden group-hover:inline-block 
                                       transition-all duration-300 opacity-0 group-hover:opacity-100">
                                <%= item.text %>
                            </span>
                        </button>
                        <div class="absolute right-0 w-40 bg-white shadow-md rounded-md py-2 mt-1 invisible group-hover:visible z-10">
                            <a href="/profile" class="block px-4 py-2 text-gray-700 hover:bg-blue-50">My Profile</a>
                            <a href="/profile/settings" class="block px-4 py-2 text-gray-700 hover:bg-blue-50">Settings</a>
                            <form action="/logout" method="POST" class="block">
                                <button type="submit" class="w-full text-left px-4 py-2 text-red-600 hover:bg-blue-50">Logout</button>
                            </form>
                        </div>
                    <% } else { %>
                        <a href="<%= item.href %>" class="flex items-center rounded-full px-2.5 py-1.5 gap-2 transition-all duration-300
                                  bg-transparent hover:bg-white/40 hover:shadow-lg
                                  <%= item.class %>">
                            <img src="/assets/images/<%= item.icon %>" alt="<%= item.text %>" class="w-[52px] h-[52px]">
                            <span class="text-white font-bold text-sm hidden group-hover:inline-block 
                                       transition-all duration-300 opacity-0 group-hover:opacity-100">
                                <%= item.text %>
                            </span>
                        </a>
                    <% } %>
                </div>
            <% }); %>
        </div>
    </div>
</nav>
